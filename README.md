# Shirinkin.ChangeWallHightInGroups

Плагин для ревит, который меняет высоту стен, находящихся в группах (экземплярах одной и той же группы), определяя какие группы лежат внутри контура, состоящего из линий.

## Фитчи

- Возможность выбрать контур, внутри которого будут изменены группы (геометричемкое определение принадлежности начала группы контуру). Поддерживаются только прямые линии. Нет проверки правильности контура.
- Возможность выбрать тип группы, экземпляры которого будут изменены
- Создание новых типов групп, чтобы те группы, которые не надо изменять, не изменялись. Можно ввести новое имя группам.
- Изменяются только высоты стен в группах.
- На интерфейс плагина отведён отдельный поток, чтобы интерфейс не зависал во время операции.
- Алгоритм создаёт новый тип группы, а затем всем экземплярам изменяемой группы присваивается этот тип. Таким образом не меняются ID элементов.

## Инструкция по сборке и запуску

- при первом открытии решения пересобрать проект _buildTasks, отдельно выделив его, (не пересобирается вместе с решением)
- при желании изменить версию в файле version.txt
- пересобрать решение в конфигурации R2021
- убедиться, что ссылка на Nuget-пакет RevitAPI2021 работает, иначе заменить пакет на аналогичный (должен содержать RevitAPI.dll и RevitAPIUI.dll). Остальные пакеты официальные.
- собранные сборки лежат по пути `Shirinkin.ChangeWallHightInGroups\bin\Release\2021`, главная сборка, содержащая команду `Shirinkin.ChangeWallHightInGroups.dll`
- команду можно запустить при помощи утилиты [Add-in Manager](https://github.com/chuongmep/RevitAddInManager). Придётся вручную загрузить все зависимости сборки из папки, потому что addin manager это не делвет автоматически (загружает неправильную версию DependencyInjection из кэша Microsoft на компьютере)
